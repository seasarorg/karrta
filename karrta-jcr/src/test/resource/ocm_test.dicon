<?xml version="1.0" encoding="Shift_JIS"?>
<!DOCTYPE components PUBLIC "-//SEASAR2.1//DTD S2Container//EN"
    "http://www.seasar.org/dtd/components21.dtd">
<components>
  <include path="configuration.dicon" />
  <include path="jcr/ocm.dicon"       />

  <!-- ============================================================ -->
  <!--                            OCM                               -->
  <!-- ============================================================ -->
  <!-- book ocm -->
  <component name="book_ocm" class="org.seasar.karrta.jcr.ocm.BookOcm">
    <aspect>ocm.interceptor</aspect>
  </component>
  
  <!-- TreeOcm -->
  <component name="tree_ocm" class="org.seasar.karrta.jcr.ocm.TreeOcm">
    <aspect>ocm.interceptor</aspect>
  </component>
  
  <!-- ============================================================ -->
  <!--                          SERVICE                             -->
  <!-- ============================================================ -->
  <!-- book service -->
  <component class="org.seasar.karrta.jcr.service.impl.BookServiceImpl">
    <property name="bookOcm">book_ocm</property>

    <aspect>ocm.transaction</aspect>
  </component>
  
  <!-- Tree service -->
  <component class="org.seasar.karrta.jcr.service.impl.TreeServiceImpl">
    <property name="treeOcm">tree_ocm</property>

    <aspect>ocm.transaction</aspect>
  </component>

</components>